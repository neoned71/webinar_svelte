import{J as e,K as t,_ as a,a as r,b as s,c as n,i as c,d as o,S as i,e as u,r as f,s as l,f as h,g as d,t as p,q as v,h as m,j as g,k as x,l as y,m as w,n as b,H as k,p as R,u as j,D as E,x as D,v as G}from"./client.aa630d7a.js";import{A as H}from"./static_store.3e9268b3.js";function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=r(e);if(t){var c=r(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return s(this,a)}}function _(e){var t,a,r,s,n,c,o,i,u,f,l,H,S,_,z,A,B=e[0].username+"";return{c:function(){t=h(),a=d("h1"),r=p("Great!"),s=h(),n=d("p"),c=p("Go ahead and create a "),o=d("a"),i=p("new certificate!"),u=p("\nMake sure that these images are uploaded...\n"),f=d("hr"),l=h(),H=d("div"),S=p("USername:"),_=p(B),z=h(),A=d("hr"),this.h()},l:function(e){v('[data-svelte="svelte-oh6yg0"]',document.head).forEach(m),t=g(e),a=x(e,"H1",{class:!0});var h=y(a);r=w(h,"Great!"),h.forEach(m),s=g(e),n=x(e,"P",{class:!0});var d=y(n);c=w(d,"Go ahead and create a "),o=x(d,"A",{href:!0});var p=y(o);i=w(p,"new certificate!"),p.forEach(m),d.forEach(m),u=w(e,"\nMake sure that these images are uploaded...\n"),f=x(e,"HR",{}),l=g(e),H=x(e,"DIV",{style:!0});var b=y(H);S=w(b,"USername:"),_=w(b,B),b.forEach(m),z=g(e),A=x(e,"HR",{}),this.h()},h:function(){document.title="Sapper project template",b(a,"class","svelte-1w21azg"),b(o,"href","/create_certificate"),b(n,"class","svelte-1w21azg"),k(H,"display","flex"),k(H,"width","100%")},m:function(e,h){R(e,t,h),R(e,a,h),j(a,r),R(e,s,h),R(e,n,h),j(n,c),j(n,o),j(o,i),R(e,u,h),R(e,f,h),R(e,l,h),R(e,H,h),j(H,S),j(H,_),R(e,z,h),R(e,A,h)},p:function(e,t){1&E(t,1)[0]&&B!==(B=e[0].username+"")&&D(_,B)},i:G,o:G,d:function(e){e&&m(t),e&&m(a),e&&m(s),e&&m(n),e&&m(u),e&&m(f),e&&m(l),e&&m(H),e&&m(z),e&&m(A)}}}"object"==("undefined"==typeof self?"undefined":e(self))?self.FormData:window.FormData,console.log("hello");var z=t(H),A={},B=function(){var e=u(f.mark((function e(t,a){var r,s;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(z+"/auth/whoami",{mode:"cors",method:"get"});case 2:if(200!=(r=e.sent).status){e.next=24;break}return e.prev=4,e.next=7,r.json();case 7:if(s=e.sent,console.log(s),"success"!=s.status){e.next=15;break}return A=s.data,console.log(A),e.abrupt("return",{user:A});case 15:this.redirect(301,"/login");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),this.error(e.t0,s.message),console.log(e.t0);case 22:e.next=25;break;case 24:this.redirect(301,"/login");case 25:case"end":return e.stop()}}),e,this,[[4,18]])})));return function(t,a){return e.apply(this,arguments)}}();function F(e,t,a){var r=t.user;return e.$$set=function(e){"user"in e&&a(0,r=e.user)},[r]}var M=function(e){a(r,i);var t=S(r);function r(e){var a;return n(this,r),a=t.call(this),c(o(a),e,F,_,l,{user:0}),a}return r}();export default M;export{B as preload};
