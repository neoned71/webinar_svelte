import{S as e,i as t,s as a,e as s,t as r,a as c,b as i,f as n,g as l,d as o,c as f,z as h,h as m,k as u,l as p,m as d,A as v,q as g,n as w,w as E}from"./client.c7e34c6f.js";function C(e,t,a){const s=e.slice();return s[2]=t[a],s}function q(e){let t,a,v,g,w,E,C,q,j,x,A,H,_=e[2].name+"",y=e[2].timestamp+"",P=e[2].template.name+"";return{c(){t=s("a"),a=s("h2"),v=r(_),g=c(),w=s("p"),E=r(y),C=c(),q=s("p"),j=r("Template: "),x=r(P),A=c(),this.h()},l(e){t=i(e,"A",{href:!0,class:!0});var s=n(t);a=i(s,"H2",{style:!0});var r=n(a);v=l(r,_),r.forEach(o),g=f(s),w=i(s,"P",{class:!0});var c=n(w);E=l(c,y),c.forEach(o),C=f(s),q=i(s,"P",{class:!0});var h=n(q);j=l(h,"Template: "),x=l(h,P),h.forEach(o),A=f(s),s.forEach(o),this.h()},h(){h(a,"color",e[2].template.color),m(w,"class","svelte-81fneq"),m(q,"class","svelte-81fneq"),m(t,"href",H="certificate/"+e[2]._id),m(t,"class","item w3-hover-shadow w3-margin w3-round svelte-81fneq")},m(e,s){u(e,t,s),p(t,a),p(a,v),p(t,g),p(t,w),p(w,E),p(t,C),p(t,q),p(q,j),p(q,x),p(t,A)},p(e,s){1&s&&_!==(_=e[2].name+"")&&d(v,_),1&s&&h(a,"color",e[2].template.color),1&s&&y!==(y=e[2].timestamp+"")&&d(E,y),1&s&&P!==(P=e[2].template.name+"")&&d(x,P),1&s&&H!==(H="certificate/"+e[2]._id)&&m(t,"href",H)},d(e){e&&o(t)}}}function j(e){let t,a,h,d,j,x,A,H,_,y,P=e[0],S=[];for(let t=0;t<P.length;t+=1)S[t]=q(C(e,P,t));return{c(){t=c(),a=s("h1"),h=r("Certificates!"),d=c(),j=s("a"),x=r("Create a new Certificate"),A=c(),H=s("hr"),_=c();for(let e=0;e<S.length;e+=1)S[e].c();y=v(),this.h()},l(e){g('[data-svelte="svelte-5dngc9"]',document.head).forEach(o),t=f(e),a=i(e,"H1",{class:!0});var s=n(a);h=l(s,"Certificates!"),s.forEach(o),d=f(e),j=i(e,"A",{href:!0});var r=n(j);x=l(r,"Create a new Certificate"),r.forEach(o),A=f(e),H=i(e,"HR",{}),_=f(e);for(let t=0;t<S.length;t+=1)S[t].l(e);y=v(),this.h()},h(){document.title="Sapper project certificate",m(a,"class","svelte-81fneq"),m(j,"href","/create_certificate")},m(e,s){u(e,t,s),u(e,a,s),p(a,h),u(e,d,s),u(e,j,s),p(j,x),u(e,A,s),u(e,H,s),u(e,_,s);for(let t=0;t<S.length;t+=1)S[t].m(e,s);u(e,y,s)},p(e,[t]){if(1&t){let a;for(P=e[0],a=0;a<P.length;a+=1){const s=C(e,P,a);S[a]?S[a].p(s,t):(S[a]=q(s),S[a].c(),S[a].m(y.parentNode,y))}for(;a<S.length;a+=1)S[a].d(1);S.length=P.length}},i:w,o:w,d(e){e&&o(t),e&&o(a),e&&o(d),e&&o(j),e&&o(A),e&&o(H),e&&o(_),E(S,e),e&&o(y)}}}var x={};const A=async function(e,t){var{user:a}=t;if(!a)return this.redirect(301,"login");const s=await this.fetch("certificates.json",{mode:"cors",method:"get"});if(200==s.status){var r=await s.json();"success"==r.status?x=r.data:this.error(r.status,r.message)}return{user:a,certificates:x}};function H(e,t,a){let{user:s}=t,{certificates:r}=t;return e.$$set=e=>{"user"in e&&a(1,s=e.user),"certificates"in e&&a(0,r=e.certificates)},[r,s]}export default class extends e{constructor(e){super(),t(this,e,H,j,a,{user:1,certificates:0})}}export{A as preload};
