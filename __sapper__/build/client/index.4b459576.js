import{B as e,S as a,i as s,s as t,a as r,e as o,t as c,q as i,d as n,c as h,b as l,f as u,g as d,h as f,z as m,k as g,l as p,m as v,n as w}from"./client.c7e34c6f.js";import{A as y}from"./static_store.6b777201.js";function E(e){let a,s,t,y,E,j,x,G,S,k,z,H,b,A,M,R,U=e[0].username+"";return{c(){a=r(),s=o("h1"),t=c("Great!"),y=r(),E=o("p"),j=c("Go ahead and create a "),x=o("a"),G=c("new certificate!"),S=c("\nMake sure that these images are uploaded...\n"),k=o("hr"),z=r(),H=o("div"),b=c("USername:"),A=c(U),M=r(),R=o("hr"),this.h()},l(e){i('[data-svelte="svelte-oh6yg0"]',document.head).forEach(n),a=h(e),s=l(e,"H1",{class:!0});var r=u(s);t=d(r,"Great!"),r.forEach(n),y=h(e),E=l(e,"P",{class:!0});var o=u(E);j=d(o,"Go ahead and create a "),x=l(o,"A",{href:!0});var c=u(x);G=d(c,"new certificate!"),c.forEach(n),o.forEach(n),S=d(e,"\nMake sure that these images are uploaded...\n"),k=l(e,"HR",{}),z=h(e),H=l(e,"DIV",{style:!0});var f=u(H);b=d(f,"USername:"),A=d(f,U),f.forEach(n),M=h(e),R=l(e,"HR",{}),this.h()},h(){document.title="Sapper project template",f(s,"class","svelte-1w21azg"),f(x,"href","/create_certificate"),f(E,"class","svelte-1w21azg"),m(H,"display","flex"),m(H,"width","100%")},m(e,r){g(e,a,r),g(e,s,r),p(s,t),g(e,y,r),g(e,E,r),p(E,j),p(E,x),p(x,G),g(e,S,r),g(e,k,r),g(e,z,r),g(e,H,r),p(H,b),p(H,A),g(e,M,r),g(e,R,r)},p(e,[a]){1&a&&U!==(U=e[0].username+"")&&v(A,U)},i:w,o:w,d(e){e&&n(a),e&&n(s),e&&n(y),e&&n(E),e&&n(S),e&&n(k),e&&n(z),e&&n(H),e&&n(M),e&&n(R)}}}console.log("hello");var j=e(y),x={};const G=async function(e,a){const s=await this.fetch(j+"/auth/whoami",{mode:"cors",method:"get"});if(200==s.status)try{var t=await s.json();if(console.log(t),"success"==t.status)return x=t.data,console.log(x),{user:x};this.redirect(301,"/login")}catch(e){this.error(e,t.message),console.log(e)}else this.redirect(301,"/login")};function S(e,a,s){let{user:t}=a;return e.$$set=e=>{"user"in e&&s(0,t=e.user)},[t]}export default class extends a{constructor(e){super(),s(this,e,S,E,t,{user:0})}}export{G as preload};
